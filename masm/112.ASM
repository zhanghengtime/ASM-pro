DATA SEGMENT
	TIP1 DB 'please input a number: $'
	TIP2 DB 'please input p: $'
	ARRAY DB 5 DUP(0)
	RES DB 16 DUP(0)
	NUM DW 0
	C1 DW 0
	C2 DW 0
	OUTPUT DB 'the output is: $'
DATA ENDS
CODE SEGMENT
ASSUME DS:DATA,CS:CODE
START:
	MOV AX,DATA
	MOV DS,AX
	LEA DX,TIP1   
	MOV AH,09h
	INT 21H
	MOV SI,0	
	
L1:	MOV AH,1						
	INT 21H
	MOV CX,2
	CMP AL,39h
    Jg L2
	cmp al,30h
	jl l2
	MOV ARRAY[SI],AL
	INC SI
	INC C1
	LOOP L1
	
L2: MOV AX,0
	MOV SI,0
	MOV CX,C1
	
L3: SUB ARRAY[SI],30H
    MOV DI,10
	MUL DI
	ADD AL,ARRAY[SI]
	ADD AH,0
	INC SI
	LOOP L3
	MOV NUM,AX
	MOV DL,0AH        
	MOV AH,02H
	INT 21H
	MOV DL,0DH
	MOV AH,2
	INT 21H
	LEA DX,TIP2
	MOV AH,09H
	INT 21H
	MOV AH,01H
	INT 21H
	CMP AL,39H
	JBE L4
	SUB AL,07H
	
L4: SUB AL,30H
	MOV BL,AL	
	MOV BH,0
	MOV AX,NUM
	MOV SI,0
	
L5: MOV DX,0
	DIV BX
	MOV RES[SI],DL
	INC C2
	INC SI
	CMP AX,0
	JNE L5
	DEC SI
	MOV CX,C2
	MOV DL,0AH          
	MOV AH,2
	INT 21H
	MOV DL,0DH
	MOV AH,2
	INT 21H
	MOV DL,0AH          
	MOV AH,2
	INT 21H
	MOV DL,0DH
	MOV AH,2
	INT 21H
	LEA DX,OUTPUT   
	MOV AH,09h
	INT 21H
	
L6: MOV DL,RES[SI]
	CMP DL,9
	JBE L7
	ADD DL,7
	
L7: ADD DL,30H
	MOV AH,2
	INT 21H
	DEC SI
	LOOP L6
	MOV DL,0AH          
	MOV AH,2
	INT 21H
	MOV DL,0DH
	MOV AH,2
	INT 21H
	MOV AH,4CH
	INT 21H
	
CODE ENDS
END START
	
